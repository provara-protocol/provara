# DNS Setup for Provara Sites

## 1) `provara.dev` (main GitHub Pages site)

Configure apex + `www` for GitHub Pages.

### Recommended records
- `A` `@` -> `185.199.108.153`
- `A` `@` -> `185.199.109.153`
- `A` `@` -> `185.199.110.153`
- `A` `@` -> `185.199.111.153`
- `CNAME` `www` -> `<org-or-user>.github.io`

### Repository settings
1. GitHub repo -> Settings -> Pages.
2. Source: GitHub Actions.
3. Custom domain: `provara.dev`.
4. Enable `Enforce HTTPS` after DNS propagates.

`sites/provara.dev/CNAME` is generated by the site builder and must contain:
```
provara.dev
```

## 2) `playground.provara.dev`

GitHub Pages cannot host two custom domains independently from one repository deployment.

### Option A (recommended)
Deploy playground from a separate repository/site and set:
- `CNAME` `playground` -> `<playground-repo-owner>.github.io`

### Option B (single-repo fallback)
Use DNS/edge redirect:
- `CNAME` `playground` -> `provara.dev`
- Add a provider-level redirect rule to `https://provara.dev/playground/`

Without an explicit redirect rule, `playground.provara.dev` will serve the same root site as `provara.dev`.

## Verification checklist
- `dig provara.dev A +short` returns all four GitHub IPs.
- `dig www.provara.dev CNAME +short` returns `<org-or-user>.github.io`.
- GitHub Pages settings show custom domain + HTTPS enabled.
- `curl -I https://provara.dev/spec/v1.0/` returns `200`.
- `curl -I https://provara.dev/sitemap.xml` returns `200`.

## Troubleshooting
- **Domain not verified**: wait for DNS TTL and retry in Pages settings.
- **HTTPS not available**: ensure A/CNAME records are correct and no proxy mode is breaking validation.
- **Wrong site on playground subdomain**: add explicit redirect rule or use separate repo deployment.
